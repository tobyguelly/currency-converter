<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Currency Converter</title>
    <link rel="stylesheet" href="style/stylesheet.css">
</head>
<body>
    <div id="root" align="center">
        <h1>Currency Converter</h1>
        <p>
            We are using node <script>document.write(process.versions.node)</script>,
            Chrome <script>document.write(process.versions.chrome)</script>,
            and Electron <script>document.write(process.versions.electron)</script>.<br />
            Currency API: http://currencies.apps.grandtrunk.net/getlatest/
        </p>
        <form>
            <input type="number" placeholder="AMOUNT EUR" id="EUR">
            <input type="number" placeholder="AMOUNT USD" id="USD">
        </form>
        <button onclick="convert('EUR', 'USD')">EUR -> USD</button>
        <button onclick="convert('USD', 'EUR')">USD -> EUR</button>
        <br/><br/><br/><br/><br/>
        <form>
            <input type="text" placeholder="CUSTOM (BTC)" id="currencyName">
            <input type="number" placeholder="AMOUNT (1)" id="currencyAmount">
        </form>
        <button onclick="convertCustom(document.getElementById('currencyName').value, 'EUR')">CUSTOM -> EUR</button>
        <p class="footer">Made by Tobias GÃ¼lly for School</p>
    </div>
    <script src="src/MoneyConverter.js"></script>
    <script>
        function convert(from, to) {
            let money = parseFloat(document.getElementById(from).value) || 0;
            let mc = new MoneyConverter(from, to);
            document.getElementById(to).innerText = "Fetching Data...";
            mc.getLatestData(function update(data) {
                data = parseFloat(data) * money;
                document.getElementById(to).value = data.toString();
            })
        }
        function convertCustom(from, to) {
            let money = parseFloat(document.getElementById("currencyAmount").value) || 0;
            let mc = new MoneyConverter(from, to);
            document.getElementById(to).innerText = "Fetching Data...";
            mc.getLatestData(function update(data) {
                data = parseFloat(data) * money;
                document.getElementById(to).value = data.toString();
            })
        }
    </script>
</body>
</html>